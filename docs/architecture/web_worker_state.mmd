stateDiagram-v2
    [*] --> IDLE

    IDLE --> LOADING: LOAD_MIX
    LOADING --> READY: MIX_LOADED
    
    READY --> PLAYING: PLAY_COMMAND
    PLAYING --> PAUSED: PAUSE_COMMAND
    PAUSED --> PLAYING: RESUME_COMMAND
    
    %% The Loop
    state PLAYING {
        [*] --> MONITORING
        MONITORING --> TRANSITIONING: SEGMENT_END_REACHED
        TRANSITIONING --> MONITORING: NEXT_TRACK_STARTED
        MONITORING --> RECALCULATING: SEEK_COMMAND
        RECALCULATING --> MONITORING: NEW_POSITION_SET
    }
    
    PLAYING --> ERROR: PLAYBACK_FAILURE
    LOADING --> ERROR: LOAD_FAILURE
    ERROR --> IDLE: RESET